

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Port a Receiver App to webOS &mdash; connectSDK  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Release" href="../blog/index.html" />
    <link rel="prev" title="Create a TV Web App" href="webapp-create-tv-web-app.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.svg" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">DISCOVER</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../discover/overview.html">Connect SDK Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../discover/use-cases.html">Use Cases</a></li>
</ul>
<p class="caption"><span class="caption-text">FUNDAMENTALS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../fundamentals/supported-feature.html">Supported features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fundamentals/beam-icon.html">Beam Icon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fundamentals/sample-apps.html">Sample Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fundamentals/testing-debugging.html">Testing &amp; Debugging</a></li>
</ul>
<p class="caption"><span class="caption-text">SDK DOWNLOAD</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../download-connect-sdk.html">Download Connect SDK</a></li>
</ul>
<p class="caption"><span class="caption-text">GUIDE:: ANDROID</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guide-and/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide-and/index.html#developer-guides">Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide-and/index.html#api-references">API References</a></li>
</ul>
<p class="caption"><span class="caption-text">GUIDE:: CORDOVA</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guide-cor/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide-cor/index.html#developer-guides">Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide-cor/index.html#api-references">API References</a></li>
</ul>
<p class="caption"><span class="caption-text">GUIDE:: IOS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guide-ios/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide-ios/index.html#developer-guides">Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide-ios/index.html#api-references">API References</a></li>
</ul>
<p class="caption"><span class="caption-text">GUIDE:: WEB APP</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">TV Web Apps</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="webapp-overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="webapp-create-tv-web-app.html">Create a TV Web App</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Port a Receiver App to webOS</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">BLOG</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../blog/index.html">Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/index.html#article">Article</a></li>
</ul>
<p class="caption"><span class="caption-text">ABOUT CONNECT SDK</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../terms-and-conditions.html">Terms and Conditions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../privacy-policy.html">Privacy Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">connectSDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">TV Web Apps</a> &raquo;</li>
        
      <li>Port a Receiver App to webOS</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/guide-web/webapp-port-receiver-app.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="port-a-receiver-app-to-webos">
<h1>Port a Receiver App to webOS<a class="headerlink" href="#port-a-receiver-app-to-webos" title="Permalink to this headline">¶</a></h1>
<p>The Connect SDK JavaScript Bridge has been designed to enable near
feature-parity with existing platforms. Ideally, one web app should be
capable of running across the range of TV platforms available on the
market.</p>
<p>This article will take a Custom “Receiver” developed for Chromecast and
port it to work on both webOS and Chromecast through Connect SDK.</p>
<p>Here is the code for the Chromecast-specific app.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;!doctype html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Chromecast Custom Receiver<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">video</span> <span class="na">id</span><span class="o">=</span><span class="s">&#39;media&#39;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;//www.gstatic.com/cast/sdk/libs/receiver/2.0.0/cast_receiver.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">mediaElement</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;media&#39;</span><span class="p">);</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">mediaManager</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">cast</span><span class="p">.</span><span class="nx">receiver</span><span class="p">.</span><span class="nx">MediaManager</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">mediaElement</span><span class="p">);</span>

            <span class="nb">window</span><span class="p">.</span><span class="nx">castReceiverManager</span> <span class="o">=</span> <span class="nx">cast</span><span class="p">.</span><span class="nx">receiver</span><span class="p">.</span><span class="nx">CastReceiverManager</span><span class="p">.</span><span class="nx">getInstance</span><span class="p">();</span>

            <span class="nb">window</span><span class="p">.</span><span class="nx">castMessageBus</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">castReceiverManager</span><span class="p">.</span><span class="nx">getCastMessageBus</span><span class="p">(</span><span class="s2">&quot;urn:x-cast:com.example.MyApp&quot;</span><span class="p">);</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">castMessageBus</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
                <span class="nb">window</span><span class="p">.</span><span class="nx">castMessageBus</span><span class="p">.</span><span class="nx">broadcast</span><span class="p">(</span><span class="s2">&quot;Got your message&quot;</span><span class="p">);</span>
            <span class="p">});</span>

            <span class="nb">window</span><span class="p">.</span><span class="nx">castReceiverManager</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
        <span class="p">};</span>
    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>There are a few things happening here.</p>
<ol class="arabic simple">
<li><p>The Chromecast SDK is being loaded</p></li>
<li><p>On page load, Chromecast SDK is being initialized</p></li>
<li><p>While initializing Chromecast, it is given a reference to our media
element</p></li>
<li><p>A channel for communication is being established with a response on
each message received</p></li>
<li><p>Event listeners are being added to the media element to track play
state</p></li>
</ol>
<p>With the Connect SDK JavaScript Bridge, these steps remain very similar.</p>
<ol class="arabic simple">
<li><p>This Chromecast SDK is being loaded</p></li>
<li><p>The Connect SDK JavaScript Bridge is being loaded</p></li>
<li><p>On page load, Connect SDK is being initialized</p></li>
<li><p>While initializing Connect SDK, it is given a reference to our media
element</p></li>
<li><p>A channel for communication is being established with a response on
each message received</p></li>
<li><p>Event listeners are being added to the media element to track play
state</p></li>
</ol>
<p>See the Connect SDK implementation below.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;!doctype html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Connect SDK Web App<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">video</span> <span class="na">id</span><span class="o">=</span><span class="s">&#39;media&#39;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;//www.gstatic.com/cast/sdk/libs/receiver/2.0.0/cast_receiver.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;connectsdk.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">connectManager</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">connectsdk</span><span class="p">.</span><span class="nx">ConnectManager</span><span class="p">();</span>

            <span class="nb">window</span><span class="p">.</span><span class="nx">mediaElement</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;media&#39;</span><span class="p">);</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">connectManager</span><span class="p">.</span><span class="nx">setMediaElement</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">mediaElement</span><span class="p">);</span>

            <span class="nb">window</span><span class="p">.</span><span class="nx">connectManager</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                <span class="nb">window</span><span class="p">.</span><span class="nx">connectManager</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">from</span><span class="p">,</span> <span class="s2">&quot;Got your message&quot;</span><span class="p">);</span>
            <span class="p">});</span>

            <span class="nb">window</span><span class="p">.</span><span class="nx">connectManager</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>
        <span class="p">};</span>
    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>In this basic example, we were able to port an app from one platform to
two by only adding one line of code (a JavaScript file import). Under
the hood, the Connect SDK JavaScript bridge will run the initialization
for whichever platform it is detected as running on.</p>
<p>We encourage you to attach media events directly to your media element
to avoid having to add platform-specific code to your web app.</p>
<hr class="docutils" />
<p><em>Portions of this page are modifications based on work created
and</em> <a class="reference external" href="https://developers.google.com/readme/policies/">shared by
Google</a> <em>and used
according to terms described in the</em> <a class="reference external" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons 3.0 Attribution
License</a><em>.</em></p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../blog/index.html" class="btn btn-neutral float-right" title="Release" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="webapp-create-tv-web-app.html" class="btn btn-neutral float-left" title="Create a TV Web App" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020 LG Silicon Valley Lab. All Rights Reserved. All trademarks and logos beling to their respective owners.

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>